(this.webpackJsonptadak=this.webpackJsonptadak||[]).push([[0],{125:function(e,t,n){e.exports=n(172)},172:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Pt}));var a,r,o=n(0),i=n.n(o),l=n(13),c=n.n(l),u=n(15),s=n(18),d=n(19),f=n(67),b=n(98),p=n.n(b),v=n(10),g=n(6),m=Object(u.b)("loading/START_LOADING",(function(e){return{payload:e}})),O=Object(u.b)("loading/FINISH_LOADING",(function(e){return{payload:e}})),E=Object(u.c)({},(a={},Object(v.a)(a,"loading/START_LOADING",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},t.payload,!1))})),Object(v.a)(a,"loading/FINISH_LOADING",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},t.payload,!0))})),a)),h=n(53),j=n.n(h),y=n(45),I=n.n(y),T=n(58),L=function(e,t){try{return{captions:{playerCaptionsTracklistRenderer:e},videoDetails:{shortDescription:t.author_name,title:t.title,thumbnail:t.thumbnail_url}}}catch(n){return console.log(n),null}},S=function(){var e=Object(T.a)(I.a.mark((function e(t){var n,a,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://cors.samseak.com/http://146.56.182.109:8000/list/".concat(t),e.next=3,j.a.get(n);case 3:if(200===(a=e.sent).status){e.next=6;break}throw new Error("invalid status code");case 6:return r="https://noembed.com/embed?url=https://www.youtube.com/embed/".concat(t),e.next=9,j.a.get(r);case 9:if(200===(o=e.sent).status){e.next=12;break}throw new Error("invalid status code");case 12:return e.abrupt("return",L(a.data,o.data));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return j.a.get(e)},x=function(e){var t=document.createElement("textarea");t.innerHTML=e;var n=t.value.replace(/&#39;/g,"'");return(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/\r?\n|\r/g," ")).replace(/\s\s+/," ")).replace(/&nbsp;/g," ")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/&amp;/g,"&")).replace(/&quot;/g,'"')).replace(/&#035;/g,"#")).replace(/&#039;/g,"'")).replace(/\u2019/,"'")},_=function(e,t){return e.some((function(e){return t.endsWith(e)}))},w=function(e,t){return e.some((function(e){return-1!==t.indexOf(e)}))},k=function(e){var t=[];for(var n in e){var a=x(e[n].text),r=e[n].start,o=e[n].dur;if(null!==r&&null!==o){var i={start:r,dur:o,text:a};t.push(i)}}return t};function N(e,t){var n="".concat(e,"_SUCCESS"),a="".concat(e,"_FAILURE");return function(r){return function(){var o=Object(T.a)(I.a.mark((function o(i){var l,c;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i(m(e)),o.prev=1,o.next=4,t(r);case 4:l=o.sent,i({type:n,payload:l}),i(O(e)),o.next=16;break;case 10:throw o.prev=10,o.t0=o.catch(1),c={type:a,payload:o.t0,error:!0},i(c),i(O(e)),o.t0;case 16:case"end":return o.stop()}}),o,null,[[1,10]])})));return function(e){return o.apply(this,arguments)}}()}}var A,D,M,R=N("caption/GET_CAPTION",C),F=N("caption/GET_TRANSLATION",C),B=Object(u.b)("caption/RESET_CAPTION"),P=Object(u.b)("caption/RESET_TRANSLATION"),U=Object(u.b)("caption/SET_LANG"),V=Object(u.b)("caption/SET_TRANS"),H={lang:void 0,trans:void 0,captionArray:[],translationArray:[],loaded:!1,error:!1,errorMsg:""},G=Object(u.c)(H,(r={},Object(v.a)(r,"caption/GET_CAPTION_SUCCESS",(function(e,t){var n=k(t.payload.data);return Object(g.a)(Object(g.a)({},e),{},{captionArray:n,loaded:!0,error:!1,errorMsg:""})})),Object(v.a)(r,"caption/GET_TRANSLATION_SUCCESS",(function(e,t){var n=k(t.payload.data);return Object(g.a)(Object(g.a)({},e),{},{translationArray:n,loaded:!0,error:!1,errorMsg:""})})),Object(v.a)(r,"caption/GET_CAPTION_FAILURE",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{captionArray:[],loaded:!1,error:!0,errorMsg:t.payload})})),Object(v.a)(r,"caption/GET_TRANSLATION_FAILURE",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{captionArray:[],loaded:!1,error:!0,errorMsg:t.payload})})),Object(v.a)(r,"caption/RESET_CAPTION",(function(e){return Object(g.a)(Object(g.a)({},e),{},{captionArray:[],translationArray:[],loaded:!1,error:!1,errorMsg:""})})),Object(v.a)(r,"caption/RESET_TRANSLATION",(function(e){return Object(g.a)(Object(g.a)({},e),{},{translationArray:[]})})),Object(v.a)(r,"caption/SET_LANG",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{lang:t.payload})})),Object(v.a)(r,"caption/SET_TRANS",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{trans:t.payload})})),r)),z=N("videoInfo/GET_VIDEOINFO",(function(e){return S(e)})),W=Object(u.b)("videoInfo/SET_VIDEOID"),Y=Object(u.c)({videoId:null,videoInfo:null,loaded:!1,error:!1,errorMsg:""},(A={},Object(v.a)(A,"videoInfo/GET_VIDEOINFO_SUCCESS",(function(e,t){var n=t.payload;return Object(g.a)(Object(g.a)({},e),{},{videoInfo:n,loaded:!0,error:!1,errorMsg:""})})),Object(v.a)(A,"videoInfo/GET_VIDEOINFO_FAILURE",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{error:!0,errorMsg:t.payload})})),Object(v.a)(A,"videoInfo/SET_VIDEOID",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{videoId:t.payload})})),A)),J=Object(u.b)("videoState/SET_VIDEOLOOP"),K=Object(u.c)({start:null,end:null},Object(v.a)({},"videoState/SET_VIDEOLOOP",(function(e,t){return Object(g.a)(Object(g.a)({},e),t.payload)}))),q=Object(u.b)("setting/SET_CAPTION_BLUR"),Q=Object(u.b)("setting/SET_TRANSLATION_BLUR"),X=Object(u.b)("setting/SET_MODE"),Z=Object(u.b)("setting/SET_BLUR_LEVEL"),$=Object(u.b)("setting/SET_SCROLL_POSITION"),ee={height:0,captionBlur:!0,translationBlur:!1,mode:"NORMAL_MODE",blurLevel:.2,scrollPosition:4},te=Object(u.c)(ee,(D={},Object(v.a)(D,"setting/SET_CAPTION_BLUR",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{captionBlur:t.payload})})),Object(v.a)(D,"setting/SET_TRANSLATION_BLUR",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{translationBlur:t.payload})})),Object(v.a)(D,"setting/SET_MODE",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{mode:t.payload})})),Object(v.a)(D,"setting/SET_BLUR_LEVEL",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{blurLevel:t.payload})})),Object(v.a)(D,"setting/SET_SCROLL_POSITION",(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{scrollPosition:t.payload})})),D)),ne=n(25),ae=function(e,t){var n=Object(g.a)({},t),a=e.map((function(e){return e.videoId}));return Object.keys(n).forEach((function(e){a.includes(e)||delete n[e]})),n},re=Object(u.b)("history/ADD_HISTORY"),oe=Object(u.b)("history/DEL_HISTORY"),ie=Object(u.b)("history/ADD_TYPING"),le=Object(u.c)({videoMetadataList:[],videoTypings:{}},(M={},Object(v.a)(M,"history/ADD_HISTORY",(function(e,t){if((e.videoMetadataList.length>0?e.videoMetadataList.map((function(e){return e.title})):[]).includes(t.payload.title)){var n=[t.payload].concat(Object(ne.a)(e.videoMetadataList.filter((function(e){return e.title!==t.payload.title}))));return Object(g.a)(Object(g.a)({},e),{},{videoMetadataList:Object(ne.a)(n)})}var a=[t.payload].concat(Object(ne.a)(e.videoMetadataList.slice(0,9))),r=ae(a,e.videoTypings);return Object(g.a)(Object(g.a)({},e),{},{videoMetadataList:Object(ne.a)(a),videoTypings:Object(g.a)({},r)})})),Object(v.a)(M,"history/DEL_HISTORY",(function(e,t){var n=Object(ne.a)(e.videoMetadataList.filter((function(e){return e.videoId!==t.payload}))),a=ae(n,e.videoTypings);return Object(g.a)(Object(g.a)({},e),{},{videoMetadataList:Object(ne.a)(n),videoTypings:Object(g.a)({},a)})})),Object(v.a)(M,"history/ADD_TYPING",(function(e,t){var n=t.payload,a=e.videoTypings[n.videoId],r=a?a[n.lang]:void 0;return r=r||[],Object(g.a)(Object(g.a)({},e),{},{videoTypings:Object(g.a)(Object(g.a)({},e.videoTypings),{},Object(v.a)({},n.videoId,Object(v.a)({},n.lang,Object(g.a)(Object(g.a)({},r),{},Object(v.a)({},n.index,n.text)))))})})),M)),ce={key:"root",storage:p.a,whitelist:["setting","history"]},ue=Object(d.c)({loading:E,caption:G,videoInfo:Y,videoLoop:K,setting:te,history:le}),se=Object(f.a)(ce,ue),de=n(99),fe=n(11),be=n(228),pe=n(225),ve=n(105),ge=n.n(ve),me=n(229),Oe=n(223),Ee=n(241),he=n(222),je=function(e){var t=e.videoUrl,n=e.setVideoUrl;return i.a.createElement(Ee.a,{fullWidth:!0,id:"standard-basic",label:"Youtube URL",value:t,onChange:function(e){var t=e.target.value.replace(/https?:\/\//,"");n(t)},InputProps:{startAdornment:i.a.createElement(he.a,{position:"start"},"https://")}})};function ye(e){var t=e.match(/v=([\w|\d|\-|_]*)|\.be\/([\w|\d|\-|_]*)/);return t?void 0!==t[1]?t[1]:t[2]:null}var Ie=Object(s.b)((function(e){return{videoInfo:e.videoInfo.videoInfo,videoId:e.videoInfo.videoId,lang:e.caption.lang,trans:e.caption.trans}}),(function(e){return Object(d.b)({getVideoInfo:z,setVideoId:W,resetCaption:B,addHistory:re},e)}))((function(e){var t=e.videoId,n=e.videoInfo,a=e.lang,r=e.trans,l=e.getVideoInfo,c=e.setVideoId,u=e.resetCaption,s=e.addHistory,d=Object(o.useState)(t?"www.youtube.com/watch?v=".concat(t):""),f=Object(fe.a)(d,2),b=f[0],p=f[1];return Object(o.useEffect)((function(){var e=ye(b);e&&(l(e),c(e),u())}),[b,l,c,u]),Object(o.useEffect)((function(){t&&p("www.youtube.com/watch?v=".concat(t))}),[t]),Object(o.useEffect)((function(){var e=ye(b);if(null!==e&&null!==n){var t={videoId:e,url:b,title:n.videoDetails.title.replace(/\+/g," "),thumbnail:n.videoDetails.thumbnail,description:n.videoDetails.shortDescription.slice(0,200).replace(/\+/g," "),lang:a,trans:r};s(t)}}),[n,b,s,a,r]),i.a.createElement(je,{videoUrl:b,setVideoUrl:p})})),Te=n(235),Le=n(244),Se=n(219),Ce=n(243),xe=function(e){var t=e.lang,n=e.captionTrack,a=e.onChange,r=i.a.useState(""),o=Object(fe.a)(r,2),l=o[0],c=o[1];i.a.useEffect((function(){if(t&&n.length>0){var e=n.findIndex((function(e){return e.languageCode===t.languageCode}));e>=0&&c(""+e)}}),[t,n]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{style:{width:"100%"}},i.a.createElement(Ce.a,null,"lang"),i.a.createElement(Te.a,{value:l,onChange:function(e){var t=e.target.value;if(""!==t){var r=parseInt(t);a(n[r])}}},n.length>0?n.map((function(e,t){return i.a.createElement(Le.a,{key:e.languageCode+t,value:t},e.name.simpleText.replace(/\+/g,""))})):null)))},_e=function(e){var t=e.translation,n=e.captionTrack,a=e.translationLanguage,r=e.onChange,o=e.onReset,l=i.a.useState(""),c=Object(fe.a)(l,2),u=c[0],s=c[1],d=["None"].concat(Object(ne.a)(n.map((function(e){return e.name.simpleText}))),Object(ne.a)(a.map((function(e){return e.languageName.simpleText}))));i.a.useEffect((function(){if(t)if("baseUrl"in t){var e=t.name.simpleText,n=d.findIndex((function(t){return t===e}));n>=0&&s(""+n)}else{var a=t.languageName.simpleText,r=d.findIndex((function(e){return e===a}));r>=0&&s(""+r)}}),[t,d]);return i.a.useEffect((function(){s("")}),[n,a]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{style:{width:"100%"}},i.a.createElement(Ce.a,null,"Trans"),i.a.createElement(Te.a,{value:u,onChange:function(e){var t=e.target.value;if(""!==t){var i=parseInt(t)-1;if(-1===i)o();else if(i<n.length)r(n[i]);else{var l=n.find((function(e){return e.isTranslatable}));if(void 0!==l){var c=i-n.length;r(l,a[c])}}}}},d.length>0?d.map((function(e,t){return i.a.createElement(Le.a,{key:e+t,value:t},e.replace(/\+/g,""))})):null)))},we=Object(s.b)((function(e){return{videoInfo:e.videoInfo.videoInfo,videoId:e.videoInfo.videoId,lang:e.caption.lang,trans:e.caption.trans}}),(function(e){return Object(d.b)({getCaption:R,getTranslation:F,resetTranslation:P,setLang:U,setTrans:V},e)}))((function(e){var t=e.videoId,n=e.videoInfo,a=e.lang,r=e.trans,o=e.getCaption,l=e.getTranslation,c=e.resetTranslation,u=e.setLang,s=e.setTrans,d=i.a.useState([]),f=Object(fe.a)(d,2),b=f[0],p=f[1],v=i.a.useState([]),g=Object(fe.a)(v,2),m=g[0],O=g[1];return i.a.useEffect((function(){p([]),O([]),null!==n&&void 0!==n.captions&&(p(n.captions.playerCaptionsTracklistRenderer.captionTracks),O(n.captions.playerCaptionsTracklistRenderer.translationLanguages))}),[t,n]),i.a.useEffect((function(){a&&o(a.baseUrl)}),[a,o]),i.a.useEffect((function(){if(n&&r)if("baseUrl"in r)l(r.baseUrl);else{var e=b.find((function(e){return e.isTranslatable}));if(e){var t=e.baseUrl+"?t=".concat(r.languageCode);l(t)}}}),[n,r,b,l]),i.a.createElement(Oe.a,{container:!0,spacing:2},i.a.createElement(Oe.a,{item:!0,xs:6},i.a.createElement(xe,{lang:a,captionTrack:b,onChange:function(e){void 0!==e&&u(e)}})),i.a.createElement(Oe.a,{item:!0,xs:6},i.a.createElement(_e,{translation:r,captionTrack:b,translationLanguage:m,onChange:function(e,t){null!==n&&s(void 0===t?e:t)},onReset:c})))})),ke=function(e){var t=e.mode,n=e.setMode,a=i.a.useState(t),r=Object(fe.a)(a,2),o=r[0],l=r[1],c=["NORMAL_MODE","ONELINE_MODE","SENTENCE_MODE"];return i.a.createElement(Se.a,{style:{width:"100%"}},i.a.createElement(Ce.a,null,"Mode"),i.a.createElement(Te.a,{value:o,onChange:function(e){var t=e.target.value;l(t),n(t)}},c.map((function(e,t){return i.a.createElement(Le.a,{key:e+t,value:e},(n=e,n.charAt(0).toUpperCase()+n.toLowerCase().slice(1)).replace(/_/g," "));var n}))))},Ne={setMode:X},Ae=Object(s.b)(null,Ne)((function(e){var t=e.setMode,n=i.a.useState("NORMAL_MODE"),a=Object(fe.a)(n,2),r=a[0],o=a[1];return i.a.useEffect((function(){t(r)}),[r,t]),i.a.createElement(ke,{mode:r,setMode:function(e){o(e)}})})),De=n(239),Me=n(226),Re=n(227),Fe=n(224),Be=n(245),Pe=function(e){var t=e.title,n=e.checked,a=e.onChange;return i.a.createElement(Fe.a,{labelPlacement:"end",control:i.a.createElement(Be.a,{checked:n,onChange:a,name:t}),label:t})},Ue=n(74),Ve=n(246),He=function(e){var t=e.defaultValue,n=e.onChange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ue.a,{gutterBottom:!0},"Blur level"),i.a.createElement(Ve.a,{defaultValue:t,"aria-labelledby":"discrete-slider",step:5,marks:!0,min:0,max:100,onChange:function(e,t){return n(t)},valueLabelDisplay:"auto"}))},Ge={setBlurLevel:Z},ze=Object(s.b)((function(e){return{blurLevel:e.setting.blurLevel}}),Ge)((function(e){var t=e.blurLevel,n=e.setBlurLevel,a=i.a.useState(200*t),r=Object(fe.a)(a,2),o=r[0],l=r[1];return i.a.useEffect((function(){n(o/200)}),[o,n]),i.a.createElement(i.a.Fragment,null,i.a.createElement(He,{defaultValue:o,onChange:function(e){"number"===typeof e&&l(e)}}))})),We=function(e){var t=e.defaultValue,n=e.onChange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ue.a,{gutterBottom:!0},"Auto Scroll Position"),i.a.createElement(Ve.a,{defaultValue:t,"aria-labelledby":"discrete-slider",step:1,marks:!0,min:4,max:20,onChange:function(e,t){return n(t)},valueLabelDisplay:"auto"}))},Ye={setScrollPosition:$},Je=Object(s.b)((function(e){return{scrollPosition:e.setting.scrollPosition}}),Ye)((function(e){var t=e.scrollPosition,n=e.setScrollPosition,a=i.a.useState(t),r=Object(fe.a)(a,2),o=r[0],l=r[1];return i.a.useEffect((function(){n(o)}),[o,n]),i.a.createElement(i.a.Fragment,null,i.a.createElement(We,{defaultValue:o,onChange:function(e){"number"===typeof e&&l(e)}}))})),Ke={setCaptionBlur:q,setTranslationBlur:Q},qe=Object(s.b)((function(e){return{captionBlur:e.setting.captionBlur,translationBlur:e.setting.translationBlur}}),Ke)((function(e){var t=e.captionBlur,n=e.translationBlur,a=e.setCaptionBlur,r=e.setTranslationBlur,o=i.a.useState(t),l=Object(fe.a)(o,2),c=l[0],u=l[1],s=i.a.useState(n),d=Object(fe.a)(s,2),f=d[0],b=d[1];return i.a.useEffect((function(){a(c),r(f)}),[c,f,a,r]),i.a.createElement(Se.a,{style:{width:"100%"}},i.a.createElement(Oe.a,{container:!0,spacing:2},i.a.createElement(Oe.a,{item:!0,xs:12},i.a.createElement(Pe,{title:"Caption Blur",checked:c,onChange:function(e){u(e.target.checked)}})),i.a.createElement(Oe.a,{item:!0,xs:12},i.a.createElement(Pe,{title:"Translation Blur",checked:f,onChange:function(e){b(e.target.checked)}})),i.a.createElement(Oe.a,{item:!0,xs:12},i.a.createElement(ze,null),i.a.createElement(Je,null))))})),Qe=function(e){var t=e.open,n=e.onClose;return i.a.createElement(De.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title"},i.a.createElement(Me.a,{id:"form-dialog-title"},"Settings"),i.a.createElement(Re.a,null,i.a.createElement(qe,null)))},Xe=n(72);Xe.a.initialize("UA-184171931-1");var Ze=function(){var e=i.a.useState(!1),t=Object(fe.a)(e,2),n=t[0],a=t[1];return Xe.a.pageview(window.location.pathname+window.location.search),i.a.createElement(be.a,{color:"inherit"},i.a.createElement(me.a,{color:"inherit"},i.a.createElement(Oe.a,{container:!0,spacing:2},i.a.createElement(Oe.a,{item:!0,xs:6},i.a.createElement(Ie,null)),i.a.createElement(Oe.a,{item:!0,xs:4},i.a.createElement(we,null)),i.a.createElement(Oe.a,{item:!0,xs:2},i.a.createElement(Ae,null))),i.a.createElement(pe.a,{edge:"end",color:"inherit","aria-label":"menu",onClick:function(){a(!0)}},i.a.createElement(ge.a,null)),i.a.createElement(Qe,{open:n,onClose:function(){a(!1)}})))},$e=n(41),et=n(42),tt=n(114),nt=n(111),at=n.n(nt),rt=n(240),ot=n(106),it=n.n(ot);function lt(){var e=Object($e.a)(["\n  font-size: 14px;\n  padding: 0 0 0 5px;\n"]);return lt=function(){return e},e}function ct(){var e=Object($e.a)(["\n  font-weight: 400;\n  font-size: 20px;\n  padding: 0 0 0 5px;\n"]);return ct=function(){return e},e}function ut(){var e=Object($e.a)(["\n  color: transparent;\n  text-shadow: 0 0 5px rgba(0, 0, 0, ",");\n  &:hover {\n    color: black;\n    text-shadow: 0 0 0px rgba(0, 0, 0, 0.25);\n  }\n"]);return ut=function(){return e},e}function st(){var e=Object($e.a)(["\n  padding: 10px;\n  font-family: 'Roboto';\n  & > * {\n    margin: 5px;\n  }\n  [contenteditable='true'] {\n    min-height: 20px;\n    padding: 5px 20px 5px 5px;\n    outline: 1px dashed gray;\n    overflow: auto;\n  }\n  [contenteditable='true'] br {\n    display: none;\n  }\n"]);return st=function(){return e},e}var dt=et.b.div(st()),ft=et.b.span(ut(),(function(e){return e.theme.blurLevel})),bt=et.b.div(ct()),pt=et.b.div(lt()),vt=function(e){var t=e.caption,n=e.initCaption,a=e.translation,r=e.focus,o=e.selected,l=e.captionBlur,c=e.translationBlur,u=e.blurLevel,s=e.scrollPosition,d=e.onKeyDown,f=e.onClick,b=e.onFocus,p=e.onEnter,v=i.a.useState(n||""),g=Object(fe.a)(v,2),m=g[0],O=g[1],E=i.a.useRef(null);i.a.useEffect((function(){null!==E&&null!==E.current&&r&&(E.current.focus(),window.scrollTo(0,E.current.offsetTop-30-E.current.offsetHeight*s))}),[r,E,s]);var h="#FFFFFF";o&&(h="#e3f2fd");return i.a.createElement(tt.a,{style:{margin:"10px",backgroundColor:h},elevation:1,onClick:f},i.a.createElement(dt,null,l?i.a.createElement(bt,null,i.a.createElement(ft,{theme:{blurLevel:u}},t)):i.a.createElement(bt,{style:{fontWeight:800}},t),a&&(c?i.a.createElement(pt,null,i.a.createElement(ft,{theme:{blurLevel:u}}," ",a," ")):i.a.createElement(pt,null,a)),i.a.createElement("div",{style:{position:"relative"}},r&&""!==m&&i.a.createElement(rt.a,{title:"Clear"},i.a.createElement(at.a,{onClick:function(e){e.stopPropagation(),O(""),p&&p("")},style:{position:"absolute",right:0,top:0,margin:"7px",width:"15px",height:"15px"}}))),i.a.createElement(it.a,{innerRef:E,html:m,onChange:function(e){var n='<html lang="en">'.concat(e.target.value,"</html>"),a=(new DOMParser).parseFromString(n,"text/html").body.innerText,r=a.length>0&&160===a.slice(-1).charCodeAt(0)?"&nbsp;":"",o=a.replace(String.fromCharCode(160)," ").trim().split(/ /),i="";if(t)for(var l=t.split(/\s/),c=0;c<o.length;c++)(o[c]||"").trim()===(l[c]||"").trim()?i+=" ".concat(o[c]):c===o.length-1?i+=" <b>".concat(o[o.length-1],"</b>"):i+=' <span style="color:red"><b>'.concat(o[c],"</b></span>");O(i+=r)},onKeyDown:function(e){var t=e.target;d&&d(e),p&&"Enter"===e.key&&p(t.innerHTML)},onClick:function(e){e.stopPropagation()},onFocus:b})))},gt={setVideoLoop:J,addTyping:ie},mt=function(e,t){for(var n=0,a=0,r=t-1;r>t-4;r--){if(r<0){n=0;break}n=r;var o=e[r].caption.trimEnd();if(_([".","!","?"],o)){n=r+1;break}if(w([".","!","?"],o))break}for(var i=t;i<t+4;i++){if(i>=e.length){a=e.length-1;break}a=i;var l=e[i].caption.trimEnd();if(w([".","!","?"],l))break}return{startIdx:n,endIdx:a}},Ot=Object(s.b)((function(e){return{videoId:e.videoInfo.videoId,lang:e.caption.lang,caption:e.caption.captionArray,translation:e.caption.translationArray,captionBlur:e.setting.captionBlur,translationBlur:e.setting.translationBlur,mode:e.setting.mode,blurLevel:e.setting.blurLevel,scrollPosition:e.setting.scrollPosition,videoTypings:e.history.videoTypings}}),gt)((function(e){var t=e.videoId,n=e.lang,a=e.caption,r=e.translation,o=e.setVideoLoop,l=e.captionBlur,c=e.translationBlur,u=e.mode,s=e.blurLevel,d=e.scrollPosition,f=e.addTyping,b=e.videoTypings,p=i.a.useState(0),v=Object(fe.a)(p,2),g=v[0],m=v[1],O=i.a.useState([]),E=Object(fe.a)(O,2),h=E[0],j=E[1],y=function(e,t){for(var n=[],a=0,r=0;r<e.length;r++)if(t.length>0)for(var o=parseFloat(e[r].start)+parseFloat(e[r].dur),i=a;i<t.length;i++){var l;if(o<=parseFloat(null===(l=t[i])||void 0===l?void 0:l.start)){var c=t.slice(a,i).map((function(e){return e.text})).join(" ");a=i;var u={start:parseFloat(e[r].start),dur:parseFloat(e[r].dur),caption:e[r].text,translation:c};n.push(u);break}}else{var s={start:parseFloat(e[r].start),dur:parseFloat(e[r].dur),caption:e[r].text,translation:void 0};n.push(s)}return n}(a,r),I=t?b[t]:void 0,T=I&&(null===n||void 0===n?void 0:n.languageCode)&&I[n.languageCode]?I[n.languageCode]:{};return i.a.useEffect((function(){if(h.length>0)if(void 0!==a[h[0]]){var e=parseFloat(a[h[0]].start),t=parseFloat(a[h[1]].start)+parseFloat(a[h[1]].dur);o({start:e,end:t})}else j([]);else o({start:null,end:null})}),[h,a,o]),0===a.length?null:i.a.createElement("div",{style:{marginBottom:"300px"}},y.map((function(e,a){var r=!1;a===g&&(r=!0);var o=!1;return h.length>0&&h[0]<=a&&h[1]>=a&&(o=!0),i.a.createElement(vt,{initCaption:T[a],selected:o,focus:r,key:e.start,caption:e.caption,captionBlur:l,translation:e.translation,translationBlur:c,blurLevel:s,scrollPosition:d,onEnter:function(e){return function(e,a){if(t&&n&&n.languageCode){var r=n.languageCode;f({videoId:t,lang:r,index:a,text:e})}var o=a+1;switch(m(o),u){case"NORMAL_MODE":h.length>0&&o>h[h.length-1]&&j([]);break;case"ONELINE_MODE":j([o,o]);break;case"SENTENCE_MODE":var i=mt(y,o);j([i.startIdx,i.endIdx]);break;default:j([])}}(e,a)},onClick:function(e){return function(e,t){switch(u){case"NORMAL_MODE":var n,a=Object(ne.a)(h);a.indexOf(t)>-1?j([]):((n=[].concat(Object(ne.a)(a),[t])).sort((function(e,t){return e-t})),j([n[0],n[n.length-1]]));break;case"ONELINE_MODE":j([t,t]);break;case"SENTENCE_MODE":var r=mt(y,t);j([r.startIdx,r.endIdx])}}(0,a)},onFocus:function(e){return m(t=a),void("ONELINE_MODE"===u&&j([t,t]));var t}})})))})),Et=n(230),ht=n(233),jt=n(232),yt=n(231),It=n(234),Tt=function(e){var t=e.title,n=e.thumbnail,a=e.description,r=e.onClick,o=e.onDelete;return i.a.createElement(Et.a,{style:{display:"flex",margin:"10px",height:120}},i.a.createElement("div",{onClick:r,style:{width:"100%"}},i.a.createElement(yt.a,{style:{display:"flex"}},i.a.createElement(jt.a,{style:{minWidth:210,width:210,height:120},image:n,title:t}),i.a.createElement(ht.a,{style:{maxHeight:100,width:"100%"}},i.a.createElement("div",{style:{wordBreak:"break-all",minHeight:30,marginBottom:"5px"}},i.a.createElement("b",null,t)),i.a.createElement("div",{style:{display:"block",maxHeight:45,overflow:"hidden"}},a)))),i.a.createElement("div",{style:{marginRight:0,height:"100%",width:"15px"}},i.a.createElement(rt.a,{title:"Delete",placement:"left",arrow:!0},i.a.createElement(It.a,{onClick:o,color:"secondary",variant:"contained",style:{height:120}}))))},Lt=Object(s.b)((function(e){return{videoMetadataList:e.history.videoMetadataList}}),(function(e){return Object(d.b)({getVideoInfo:z,setVideoId:W,resetCaption:B,delHistory:oe,setLang:U,setTrans:V},e)}))((function(e){var t=e.videoMetadataList,n=e.getVideoInfo,a=e.setVideoId,r=e.resetCaption,o=e.delHistory,l=e.setLang,c=e.setTrans;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ue.a,{style:{margin:10,padding:10},component:"h4",variant:"h4"},"History"),t.map((function(e){return i.a.createElement(Tt,{key:e.url,onClick:function(t){var o;(o=e)&&(n(o.videoId),a(o.videoId),o.lang&&l(o.lang),o.trans&&c(o.trans),r())},onDelete:function(t){return n=e.videoId,void o(n);var n},title:e.title,thumbnail:e.thumbnail,description:e.description})})))})),St=Object(s.b)((function(e){return{videoId:e.videoInfo.videoId,lang:e.caption.lang}}))((function(e){var t=e.videoId,n=e.lang;return i.a.useEffect((function(){}),[n]),t?i.a.createElement(Ot,null):i.a.createElement(Lt,null)})),Ct=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{margin:"auto",minWidth:500,maxWidth:870,paddingTop:60}},i.a.createElement(St,null)))},xt=n(112),_t=n.n(xt),wt=i.a.forwardRef((function(e,t){var n=e.videoId,a=e.playing,r=e.onProgress,o="https://www.youtube.com/watch?v=".concat(n);return i.a.createElement(_t.a,{ref:t,playing:a,controls:!0,url:o,width:"100%",height:"100%",progressInterval:100,onProgress:r})})),kt=Object(s.b)((function(e){return{videoId:e.videoInfo.videoId,start:e.videoLoop.start,end:e.videoLoop.end}}),{})((function(e){var t=e.videoId,n=e.start,a=e.end,r=i.a.useState(!1),o=Object(fe.a)(r,2),l=o[0],c=o[1],u=i.a.useRef(null);return null===t?i.a.createElement(i.a.Fragment,null):i.a.createElement(wt,{ref:u,playing:l,videoId:t,onProgress:function(e){null!==u.current&&null!==a&&null!==n&&(e.playedSeconds>a||e.playedSeconds<n)&&(c(!0),u.current.seekTo(n,"seconds"))}})})),Nt=Object(s.b)((function(e){return{videoId:e.videoInfo.videoId}}))((function(e){var t=e.videoId,n=i.a.useState(480),a=Object(fe.a)(n,2),r=a[0],o=a[1],l=i.a.useState(270),c=Object(fe.a)(l,2),u=c[0],s=c[1],d=function(){window.innerHeight<600&&window.innerWidth<800?(o(240),s(135)):(o(480),s(270))};return i.a.useEffect((function(){d(),window.addEventListener("resize",(function(){return d()}))}),[]),i.a.createElement(i.a.Fragment,null,t?i.a.createElement(Et.a,{style:{width:r,height:u,position:"fixed",bottom:0,right:0,margin:"10px"}},i.a.createElement(kt,null)):null)})),At=function(){return i.a.createElement(Nt,null)},Dt=n(238),Mt=n(236),Rt=function(){var e=i.a.useState(!0),t=Object(fe.a)(e,2),n=t[0],a=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Dt.a,{open:n,autoHideDuration:1e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(e,t){"clickaway"!==t&&a(!1)}},i.a.createElement(Mt.a,{severity:"info"},"(2022.08.17) Lang \ubc0f Trans \uc790\ub3d9 \uc800\uc7a5 \uae30\ub2a5 \ucd94\uac00")))};function Ft(){var e=Object($e.a)(["\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n  \n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n"]);return Ft=function(){return e},e}var Bt=Object(et.a)(Ft()),Pt=Object(u.a)({reducer:se,middleware:function(e){return e({serializableCheck:!1})},devTools:!1}),Ut=Object(f.b)(Pt);c.a.render(i.a.createElement(i.a.Fragment,null,i.a.createElement(Bt,null),i.a.createElement(s.a,{store:Pt},i.a.createElement(de.a,{persistor:Ut},i.a.createElement(Ze,null),i.a.createElement(Ct,null),i.a.createElement(At,null),i.a.createElement(Rt,null)))),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.c749c487.chunk.js.map